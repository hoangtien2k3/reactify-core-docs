<!doctype html>
<html lang="en" dir="ltr"
    class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-boot/workers"
    data-has-hydrated="false">

<head>
    <meta charset="UTF-8">
    <meta name="generator" content="Docusaurus v3.1.0">
    <title data-rh="true">ActiveJ | Workers, overcome the complexities and overheads of multithreaded programming model
        | ActiveJ 6.0</title>
    <meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1">
    <meta data-rh="true" name="twitter:card" content="summary_large_image">
    <meta data-rh="true" property="og:image" content="https://activej.io/img/preview.png">
    <meta data-rh="true" name="twitter:image" content="https://activej.io/img/preview.png">
    <meta data-rh="true" property="og:url" content="https://activej.io/boot/workers">
    <meta data-rh="true" property="og:locale" content="en">
    <meta data-rh="true" name="docusaurus_locale" content="en">
    <meta data-rh="true" name="docsearch:language" content="en">
    <meta data-rh="true" name="docusaurus_version" content="current">
    <meta data-rh="true" name="docusaurus_tag" content="docs-default-current">
    <meta data-rh="true" name="docsearch:version" content="current">
    <meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current">
    <meta data-rh="true" property="og:title"
        content="ActiveJ | Workers, overcome the complexities and overheads of multithreaded programming model | ActiveJ 6.0">
    <meta data-rh="true" name="description"
        content="ActiveJ Workers allow to overcome the complexities and overheads of multithreaded programming model yet preserve Java multithreading capabilities">
    <meta data-rh="true" property="og:description"
        content="ActiveJ Workers allow to overcome the complexities and overheads of multithreaded programming model yet preserve Java multithreading capabilities">
    <link data-rh="true" rel="icon" href="/./img/logo.png">
    <link data-rh="true" rel="canonical" href="https://activej.io/boot/workers">
    <link data-rh="true" rel="alternate" href="https://activej.io/boot/workers" hreflang="en">
    <link data-rh="true" rel="alternate" href="https://activej.io/boot/workers" hreflang="x-default">
    <link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ActiveJ 6.0 RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ActiveJ 6.0 Atom Feed">

    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176574648-1"></script>
    <script>function gtag() { dataLayer.push(arguments) } window.dataLayer = window.dataLayer || [], gtag("js", new Date), gtag("config", "UA-176574648-1", {})</script>
    <link rel="stylesheet" href="/assets/css/styles.1e996682.css">
    <script src="/assets/js/runtime~main.f160d44c.js" defer="defer"></script>
    <script src="/assets/js/main.7305c132.js" defer="defer"></script>
</head>

<body class="navigation-with-keyboard">
    <script>!function () { function t(t) { document.documentElement.setAttribute("data-theme", t) } var e = function () { try { return new URLSearchParams(window.location.search).get("docusaurus-theme") } catch (t) { } }() || function () { try { return localStorage.getItem("theme") } catch (t) { } }(); t(null !== e ? e : "dark") }(), function () { try { const c = new URLSearchParams(window.location.search).entries(); for (var [t, e] of c) if (t.startsWith("docusaurus-data-")) { var a = t.replace("docusaurus-data-", "data-"); document.documentElement.setAttribute(a, e) } } catch (t) { } }()</script>
    <div id="__docusaurus">
        <div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn"
                href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div>
        <nav aria-label="Main" class="navbar navbar--fixed-top">
            <div class="navbar__inner">
                <div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false"
                        class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30"
                            aria-hidden="true">
                            <path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"
                                d="M4 7h22M4 15h22M4 23h22"></path>
                        </svg></button><a class="navbar__brand" href="/">
                        <div class="navbar__logo"><img src="/./img/logo.png" alt="Logo"
                                class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/./img/logo.png"
                                alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b
                            class="navbar__title text--truncate">ActiveJ</b>
                    </a><a aria-current="page" class="navbar__item navbar__link navbar__link--active"
                        href="/overview">Docs</a><a class="navbar__item navbar__link"
                        href="/tutorials/getting-started">Tutorials</a></div>
                <div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link"
                        href="/blog">Blog</a><a href="https://github.com/hoangtien2k3/reactify-core" target="_blank"
                        rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5"
                            height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU">
                            <path fill="currentColor"
                                d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                            </path>
                        </svg></a>
                    <div class="toggle_vylO colorModeToggle_DEke"><button
                            class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled=""
                            title="Switch between dark and light mode (currently dark mode)"
                            aria-label="Switch between dark and light mode (currently dark mode)"
                            aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24"
                                class="lightToggleIcon_pyhR">
                                <path fill="currentColor"
                                    d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z">
                                </path>
                            </svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR">
                                <path fill="currentColor"
                                    d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z">
                                </path>
                            </svg></button></div>
                    <div class="navbarSearchContainer_Bca1"></div>
                </div>
            </div>
            <div role="presentation" class="navbar-sidebar__backdrop"></div>
        </nav>
        <div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0">
            <div class="docsWrapper_hBAB"><button aria-label="Scroll back to top"
                    class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button>
                <div class="docRoot_UBD9">
                    <aside class="theme-doc-sidebar-container docSidebarContainer_YfHR">
                        <div class="sidebarViewport_aRkj">
                            <div class="sidebar_njMd">
                                <nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG">
                                    <ul class="theme-doc-sidebar-menu menu__list">
                                        <li
                                            class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item">
                                            <a class="menu__link" href="/overview">Overview</a>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/async-io/eventloop">Async I/O</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active"
                                                    aria-expanded="true" href="/boot/launcher">Boot</a></div>
                                            <ul style="display:block;overflow:visible;height:auto" class="menu__list">
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0"
                                                        href="/boot/launcher">Launcher</a>
                                                </li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0" href="/boot/servicegraph">Service
                                                        Graph</a>
                                                </li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link menu__link--active" aria-current="page"
                                                        tabindex="0" href="/boot/workers">Workers</a>
                                                </li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0" href="/boot/config">Config</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/http">HTTP</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/inject">Inject</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/codegen">Codegen</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/serializer">Serializer</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/specializer">Specializer</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/rpc">RPC</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/fs">FS</a></div>
                                        </li>
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret"
                                                    aria-expanded="false" href="/misc/bytebuf">Misc</a></div>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </aside>
                    <main class="docMainContainer_TBSr">
                        <div class="container padding-top--md padding-bottom--lg">
                            <div class="row">
                                <div class="col docItemCol_VOVn">
                                    <div class="docItemContainer_Djhp">
                                        <article>
                                            <nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl"
                                                aria-label="Breadcrumbs">
                                                <ul class="breadcrumbs" itemscope=""
                                                    itemtype="https://schema.org/BreadcrumbList">
                                                    <li class="breadcrumbs__item"><a aria-label="Home page"
                                                            class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24"
                                                                class="breadcrumbHomeIcon_YNFT">
                                                                <path
                                                                    d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"
                                                                    fill="currentColor"></path>
                                                            </svg></a></li>
                                                    <li class="breadcrumbs__item"><span
                                                            class="breadcrumbs__link">Boot</span>
                                                        <meta itemprop="position" content="1">
                                                    </li>
                                                    <li itemscope="" itemprop="itemListElement"
                                                        itemtype="https://schema.org/ListItem"
                                                        class="breadcrumbs__item breadcrumbs__item--active"><span
                                                            class="breadcrumbs__link" itemprop="name">Workers</span>
                                                        <meta itemprop="position" content="2">
                                                    </li>
                                                </ul>
                                            </nav>
                                            <div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button
                                                    type="button" class="clean-btn tocCollapsibleButton_TO0P">On this
                                                    page</button></div>
                                            <div class="theme-doc-markdown markdown">
                                                <h1>Workers</h1>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a
                                                        href="#overview" class="hash-link"
                                                        aria-label="Direct link to Overview"
                                                        title="Direct link to Overview">​</a></h2>
                                                <p>Workers (particularly <a
                                                        href="https://github.com/hoangtien2k3/reactify-core/blob/v6.0-beta2/boot-workers/src/main/java/io/activej/worker/WorkerPoolModule.java"
                                                        target="_blank"><code>WorkerPoolModule</code></a>) is a
                                                    convenient way to
                                                    inject multiple dependencies of the same type. It is useful when you
                                                    need, for example, the same set of dependencies for each thread.
                                                    ActiveJ relies heavily on workers
                                                    to implement multithreading. Workers are the core of ActiveJ&#x27;s
                                                    threading model.</p>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7"
                                                    id="activejs-threading-model">ActiveJ&#x27;s threading model<a
                                                        href="#activejs-threading-model" class="hash-link"
                                                        aria-label="Direct link to ActiveJ&#x27;s threading model"
                                                        title="Direct link to ActiveJ&#x27;s threading model">​</a></h2>
                                                <p>The primary goal of ActiveJ is to create a fast, scalable,
                                                    easy-to-use, and high-abstraction level I/O async
                                                    programming model.
                                                    To achieve this goal, ActiveJ&#x27;s design principles overcome the
                                                    performance overhead and complexities of the traditional
                                                    multithreaded programming model, but still take full advantage of
                                                    Java&#x27;s multithreading capabilities.
                                                    ActiveJ offers means of splitting the application into a
                                                    <code>Primary Reactor</code> thread and <code>Worker Reactor</code>
                                                    threads. These threads communicate with each other via message
                                                    passing and thread-safe application-specific
                                                    singleton services.
                                                </p>
                                                <p>An implementation of a <code>Reactor</code> in ActiveJ is an <a
                                                        href="/async-io/eventloop"><code>Eventloop</code></a>.
                                                    <code>Eventloop</code> thread is essentially a single-threaded
                                                    mini-application
                                                    (similar to Node.js) that handles its share of I/O tasks and
                                                    executes Runnables submitted from other threads.
                                                    Primary Reactor threads distribute and balance I/O tasks between
                                                    Worker threads.
                                                </p>
                                                <div class="mermaid">
                                                    graph TB
                                                    id1(Primary Reactor) --&gt; id2(Worker Balancer)
                                                    id2 --&gt; id4
                                                    subgraph Worker Scope
                                                    id3(Reactor) --&gt; id4(HTTP Server)
                                                    end
                                                    id2 --&gt; id6
                                                    subgraph Worker Scope
                                                    id5(Reactor) --&gt; id6(HTTP Server)
                                                    end
                                                </div>
                                                <p>The benefits of ActiveJ threading model:</p>
                                                <ul>
                                                    <li>Each primary/worker reactor thread works as a single-threaded
                                                        application, which is easy to program and reason about</li>
                                                    <li>No multithreaded overhead, races, and thread synchronization
                                                        overhead</li>
                                                    <li>The traditional power of Java in multithreaded programming is
                                                        fully preserved:</li>
                                                    <li>A typical I/O load can easily be split between worker threads
                                                    </li>
                                                    <li>The application can have thread-safe singleton services used by
                                                        reactor threads, and a huge singleton
                                                        data state shared between all worker threads</li>
                                                    <li>You can still use some thread synchronization / lock-free
                                                        algorithms, just try to avoid excessive blocking of
                                                        concurrent threads</li>
                                                    <li>Full compatibility with Java Threads, Thread Pools, Java
                                                        Futures, and even blocking I/O operations</li>
                                                </ul>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="worker-scope">Worker
                                                    Scope<a href="#worker-scope" class="hash-link"
                                                        aria-label="Direct link to Worker Scope"
                                                        title="Direct link to Worker Scope">​</a></h2>
                                                <h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem">Problem<a
                                                        href="#problem" class="hash-link"
                                                        aria-label="Direct link to Problem"
                                                        title="Direct link to Problem">​</a></h3>
                                                <p>Such a design raises some implementation questions.
                                                    For example, if we want to implement a multithreaded HTTP web
                                                    application with worker reactors:</p>
                                                <ul>
                                                    <li>according to these design principles, we need to create separate
                                                        instances of a worker reactor, a single-threaded HTTP
                                                        server, and its servlets for each worker thread</li>
                                                    <li>but what if our application has 8 reactor threads with 10
                                                        worker-thread components inside, do we have to create 80 of
                                                        components in total and assign them to each worker thread?</li>
                                                    <li>how is it even possible to manually instantiate, wire,
                                                        initialize, and start/stop all these components in the
                                                        right order, and also gracefully shutdown application on
                                                        start/stop errors?</li>
                                                </ul>
                                                <h3 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a
                                                        href="#solution" class="hash-link"
                                                        aria-label="Direct link to Solution"
                                                        title="Direct link to Solution">​</a></h3>
                                                <p>Fortunately, thanks to <a href="/inject">ActiveJ Inject</a>, we have
                                                    a solution: the <code>@Worker</code> scope. If you need to implement
                                                    multiple worker threads:</p>
                                                <ul>
                                                    <li>include <a
                                                            href="https://github.com/hoangtien2k3/reactify-core/blob/v6.0-beta2/boot-workers/src/main/java/io/activej/worker/WorkerPoolModule.java"
                                                            target="_blank"><code>WorkerPoolModule</code></a>
                                                        module and create a <a
                                                            href="https://github.com/hoangtien2k3/reactify-core/blob/v6.0-beta2/boot-workers/src/main/java/io/activej/worker/WorkerPool.java"
                                                            target="_blank"><code>WorkerPool</code></a> instance</li>
                                                    <li>annotate the components you want to put in each worker thread
                                                        with the <code>@Worker</code> scope annotation</li>
                                                </ul>
                                                <p>The <strong>WorkerPool</strong> will automatically instantiate
                                                    identical dependency graphs for each of these worker threads
                                                    You are by no means limited to the above scheme with one primary
                                                    reactor and N worker reactors:</p>
                                                <ul>
                                                    <li>you can still have completely unrelated / standalone reactors
                                                        (nor primary, neither worker)</li>
                                                    <li>several primary reactors sharing the same pool of worker
                                                        reactors or several sets of worker pools with different number
                                                        or threads</li>
                                                    <li>you can even define your own <code>@Worker</code> annotations,
                                                        and create multiple worker pools with completely unrelated and
                                                        different dependency graphs
                                                        All this is in fully transparent and easy-to-understand modules
                                                        - just mark different components with the appropriate
                                                        worker annotations and let the <code>WorkerPool</code> create
                                                        all instances</li>
                                                </ul>
                                                <p>To automatically start/stop application components in the correct
                                                    order, simply include <code>ServiceGraph</code> module into your
                                                    <strong>Launcher</strong> - it is aware of worker pools and will
                                                    treat worker instances as special compound singleton-like instances.
                                                </p>
                                                <p>For example, here is an example of utilizing <a
                                                        href="https://github.com/hoangtien2k3/reactify-core/blob/v6.0-beta2/launchers/http/src/main/java/io/activej/launchers/http/MultithreadedHttpServerLauncher.java"
                                                        target="_blank"><code>MultithreadedHttpServerLauncher</code></a>
                                                    which features <code>ServiceGraphModule</code>:</p>
                                                <div class="language-java codeBlockContainer_Ckt0 theme-code-block"
                                                    style="--prism-color:#F8F8F2;--prism-background-color:#282A36">
                                                    <div class="codeBlockContent_biex">
                                                        <pre tabindex="0"
                                                            class="prism-code language-java codeBlock_bY9V thin-scrollbar"
                                                            style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">MultithreadedHttpServerExample</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">MultithreadedHttpServerLauncher</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Worker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">AsyncServlet</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">servlet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@WorkerId</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> workerId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> request </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token class-name">HttpResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ok200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">withPlainText</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello from worker server #&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> workerId </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">toPromise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name">Exception</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">MultithreadedHttpServerExample</span><span class="token plain"> example </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">MultithreadedHttpServerExample</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    example</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">launch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre>
                                                        <div class="buttonGroup__atx"><button type="button"
                                                                aria-label="Copy code to clipboard" title="Copy"
                                                                class="clean-btn"><span class="copyButtonIcons_eSgA"
                                                                    aria-hidden="true"><svg viewBox="0 0 24 24"
                                                                        class="copyButtonIcon_y97N">
                                                                        <path fill="currentColor"
                                                                            d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z">
                                                                        </path>
                                                                    </svg><svg viewBox="0 0 24 24"
                                                                        class="copyButtonSuccessIcon_LjdS">
                                                                        <path fill="currentColor"
                                                                            d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z">
                                                                        </path>
                                                                    </svg></span></button></div>
                                                    </div>
                                                </div>
                                                <p>And its dependency graph looks as follows:</p>
                                                <div class="mermaid">
                                                    graph
                                                    subgraph &quot;@Worker()&quot;
                                                    id1(HTTPServer) --&gt; id2(Reactor)
                                                    id1 --&gt; id3(Async Servlet)
                                                    id3 --&gt; id4(&quot;@WorkerId() int&quot;)
                                                    end
                                                    id2 -.-&gt; ThrottlingController
                                                    id2 --&gt; id5(Config)
                                                    id1 --&gt; id5
                                                    id9 --&gt; id5
                                                    id6(Reactor) --&gt; id5
                                                    id7(Primary Server) --&gt; id5
                                                    id7 --&gt; id6
                                                    id7 --&gt; id8(WorkerPool$Instances)
                                                    id8 --&gt; id9(WorkerPool)
                                                    id9 --&gt; id10(WorkerPools)
                                                    id10 --&gt; Injector
                                                </div>
                                                <p>To help you understand how worker pools work, here is a simplified
                                                    <strong>WorkerPool</strong> implementation in a nutshell (the actual
                                                    implementation differs, but not much):
                                                </p>
                                                <div class="language-java codeBlockContainer_Ckt0 theme-code-block"
                                                    style="--prism-color:#F8F8F2;--prism-background-color:#282A36">
                                                    <div class="codeBlockContent_biex">
                                                        <pre tabindex="0"
                                                            class="prism-code language-java codeBlock_bY9V thin-scrollbar"
                                                            style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">WorkerPool</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Scope</span><span class="token plain"> scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token class-name">Injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> scopeInjectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	</span><span class="token class-name">WorkerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Injector</span><span class="token plain"> injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Scope</span><span class="token plain"> scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> workers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">scope </span><span class="token operator">=</span><span class="token plain"> scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">scopeInjectors </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">workers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> workers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">			scopeInjectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">enterScope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">HashMap</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token class-name">Instances</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Key</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token class-name">Instances</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> instances </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Instances</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">scopeInjectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> scopeInjectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i</span><span class="token operator">++</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">			instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> scopeInjectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre>
                                                        <div class="buttonGroup__atx"><button type="button"
                                                                aria-label="Copy code to clipboard" title="Copy"
                                                                class="clean-btn"><span class="copyButtonIcons_eSgA"
                                                                    aria-hidden="true"><svg viewBox="0 0 24 24"
                                                                        class="copyButtonIcon_y97N">
                                                                        <path fill="currentColor"
                                                                            d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z">
                                                                        </path>
                                                                    </svg><svg viewBox="0 0 24 24"
                                                                        class="copyButtonSuccessIcon_LjdS">
                                                                        <path fill="currentColor"
                                                                            d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z">
                                                                        </path>
                                                                    </svg></span></button></div>
                                                    </div>
                                                </div>
                                                <p>As you can see, the root <a
                                                        href="https://github.com/hoangtien2k3/reactify-core/blob/v6.0-beta2/core-inject/src/main/java/io/activej/inject/Injector.java"
                                                        target="_blank"><code>Injector</code></a>
                                                    simply ‘enters’ the worker scope <code>N</code> times, so we have
                                                    <code>N</code> <code>Injector</code>s with identical
                                                    bindings/dependency graphs, but
                                                    different containers of instances. Each time we need to create some
                                                    <em>worker</em> instances, they are created <code>N</code> times by
                                                    each <em>injector</em> and returned as a vector of <code>N</code>
                                                    instances.
                                                </p>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a
                                                        href="#examples" class="hash-link"
                                                        aria-label="Direct link to Examples"
                                                        title="Direct link to Examples">​</a></h2>
                                                <div
                                                    class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary">
                                                    <div class="admonitionHeading_Gvgb"><span
                                                            class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16">
                                                                <path fill-rule="evenodd"
                                                                    d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z">
                                                                </path>
                                                            </svg></span>note</div>
                                                    <div class="admonitionContent_BuS1">
                                                        <p>To run the examples, you need to clone ActiveJ from GitHub
                                                        </p>
                                                        <div class="language-shell codeBlockContainer_Ckt0 theme-code-block"
                                                            style="--prism-color:#F8F8F2;--prism-background-color:#282A36">
                                                            <div class="codeBlockContent_biex">
                                                                <pre tabindex="0"
                                                                    class="prism-code language-shell codeBlock_bY9V thin-scrollbar"
                                                                    style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https://github.com/hoangtien2k3/reactify-core</span><br></span></code></pre>
                                                                <div class="buttonGroup__atx"><button type="button"
                                                                        aria-label="Copy code to clipboard" title="Copy"
                                                                        class="clean-btn"><span
                                                                            class="copyButtonIcons_eSgA"
                                                                            aria-hidden="true"><svg viewBox="0 0 24 24"
                                                                                class="copyButtonIcon_y97N">
                                                                                <path fill="currentColor"
                                                                                    d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z">
                                                                                </path>
                                                                            </svg><svg viewBox="0 0 24 24"
                                                                                class="copyButtonSuccessIcon_LjdS">
                                                                                <path fill="currentColor"
                                                                                    d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z">
                                                                                </path>
                                                                            </svg></span></button></div>
                                                            </div>
                                                        </div>
                                                        <p>And import it as a Maven project. Check out tag
                                                            <strong>v6.0-beta2</strong>. Before running the examples,
                                                            build the project.
                                                            These examples are located at
                                                            <code>activej/examples/core/boot</code>
                                                        </p>
                                                    </div>
                                                </div>
                                                <h3 class="anchor anchorWithStickyNavbar_LWe7"
                                                    id="basic-worker-pool-example">Basic Worker Pool Example<a
                                                        href="#basic-worker-pool-example" class="hash-link"
                                                        aria-label="Direct link to Basic Worker Pool Example"
                                                        title="Direct link to Basic Worker Pool Example">​</a></h3>
                                                <p>An example of creating a worker pool with 4 workers:</p>
                                                <div class="language-java codeBlockContainer_Ckt0 theme-code-block"
                                                    style="--prism-color:#F8F8F2;--prism-background-color:#282A36">
                                                    <div class="codeBlockContent_biex">
                                                        <pre tabindex="0"
                                                            class="prism-code language-java codeBlock_bY9V thin-scrollbar"
                                                            style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">WorkerPoolModuleExample</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractModule</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">WorkerPool</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">workerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">WorkerPools</span><span class="token plain"> workerPools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> workerPools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">createPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Worker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@WorkerId</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> workerId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello from worker #&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> workerId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Injector</span><span class="token plain"> injector </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">WorkerPoolModule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">WorkerPoolModuleExample</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">WorkerPool</span><span class="token plain"> workerPool </span><span class="token operator">=</span><span class="token plain"> injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">WorkerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">WorkerPool</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Instances</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> strings </span><span class="token operator">=</span><span class="token plain"> workerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    strings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre>
                                                        <div class="buttonGroup__atx"><button type="button"
                                                                aria-label="Copy code to clipboard" title="Copy"
                                                                class="clean-btn"><span class="copyButtonIcons_eSgA"
                                                                    aria-hidden="true"><svg viewBox="0 0 24 24"
                                                                        class="copyButtonIcon_y97N">
                                                                        <path fill="currentColor"
                                                                            d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z">
                                                                        </path>
                                                                    </svg><svg viewBox="0 0 24 24"
                                                                        class="copyButtonSuccessIcon_LjdS">
                                                                        <path fill="currentColor"
                                                                            d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z">
                                                                        </path>
                                                                    </svg></span></button></div>
                                                    </div>
                                                </div>
                                                <p>The dependency graph of the example includes the created worker pool
                                                    and looks as follows:</p>
                                                <div style="width:100%;display:flex"><img
                                                        src="/img/worker-pool-dependencies_dark.svg"
                                                        alt="Dependency graph"
                                                        class="themedComponent_mlkZ themedComponent--light_NVdE"
                                                        style="margin:0 auto"><img
                                                        src="/img/worker-pool-dependencies_light.svg"
                                                        alt="Dependency graph"
                                                        class="themedComponent_mlkZ themedComponent--dark_xIcU"
                                                        style="margin:0 auto"></div>
                                                <p><strong><a
                                                            href="https://github.com/hoangtien2k3/reactify-core/blob/examples-6.0-beta2/examples/core/boot/src/main/java/WorkerPoolModuleExample.java"
                                                            target="_blank">See full example on GitHub</a></strong></p>
                                                <h3 class="anchor anchorWithStickyNavbar_LWe7"
                                                    id="multithreaded-worker-pools-collaboration">Multithreaded Worker
                                                    Pools Collaboration<a
                                                        href="#multithreaded-worker-pools-collaboration"
                                                        class="hash-link"
                                                        aria-label="Direct link to Multithreaded Worker Pools Collaboration"
                                                        title="Direct link to Multithreaded Worker Pools Collaboration">​</a>
                                                </h3>
                                                <p>Several Worker Pools can work together on a same task. In this
                                                    example, we have 25 Workers, and each of them has its
                                                    own Eventloop. These Eventloops are wrapped in Threads and then
                                                    added to the list of <em>threads</em>. The
                                                    list is then shuffled and threads with Eventloop tasks start. The
                                                    task is to put the Eventloop <em>id</em> in the
                                                    <strong>ConcurrentLinkedQueue</strong>
                                                    in accordance to the delay (<em>id</em> multiplied by 100). In this
                                                    way, we get an ordered queue of Eventloop ids, after that
                                                    the Threads are parked and the queue is emptied.
                                                </p>
                                                <div class="language-java codeBlockContainer_Ckt0 theme-code-block"
                                                    style="--prism-color:#F8F8F2;--prism-background-color:#282A36">
                                                    <div class="codeBlockContent_biex">
                                                        <pre tabindex="0"
                                                            class="prism-code language-java codeBlock_bY9V thin-scrollbar"
                                                            style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">MultithreadedWorkerCollab</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">AbstractModule</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Worker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">Eventloop</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">eventloop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@WorkerId</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> wid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">ConcurrentLinkedQueue</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> queue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Eventloop</span><span class="token plain"> eventloop </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Eventloop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    eventloop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100L</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> wid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> queue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">wid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> eventloop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">WorkerPool</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">workerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">WorkerPools</span><span class="token plain"> workerPools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> workerPools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">createPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">25</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Provides</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">ConcurrentLinkedQueue</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">queue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ConcurrentLinkedQueue</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name">InterruptedException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Injector</span><span class="token plain"> injector </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">WorkerPoolModule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">MultithreadedWorkerCollab</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">WorkerPool</span><span class="token plain"> workerPool </span><span class="token operator">=</span><span class="token plain"> injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">WorkerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">WorkerPool</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Instances</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Eventloop</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> eventloops </span><span class="token operator">=</span><span class="token plain"> workerPool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Eventloop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Thread</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> threads </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Eventloop</span><span class="token plain"> eventloop </span><span class="token operator">:</span><span class="token plain"> eventloops</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token class-name">Thread</span><span class="token plain"> thread </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Thread</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">eventloop</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      threads</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">thread</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">Collections</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">shuffle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">threads</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    threads</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Thread</span><span class="token operator">::</span><span class="token function" style="color:rgb(80, 250, 123)">start</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Thread</span><span class="token plain"> thread </span><span class="token operator">:</span><span class="token plain"> threads</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      thread</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">join</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token class-name">ConcurrentLinkedQueue</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Integer</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> queue </span><span class="token operator">=</span><span class="token plain"> injector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Key</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">queue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">queue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">poll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre>
                                                        <div class="buttonGroup__atx"><button type="button"
                                                                aria-label="Copy code to clipboard" title="Copy"
                                                                class="clean-btn"><span class="copyButtonIcons_eSgA"
                                                                    aria-hidden="true"><svg viewBox="0 0 24 24"
                                                                        class="copyButtonIcon_y97N">
                                                                        <path fill="currentColor"
                                                                            d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z">
                                                                        </path>
                                                                    </svg><svg viewBox="0 0 24 24"
                                                                        class="copyButtonSuccessIcon_LjdS">
                                                                        <path fill="currentColor"
                                                                            d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z">
                                                                        </path>
                                                                    </svg></span></button></div>
                                                    </div>
                                                </div>
                                                <p><strong><a
                                                            href="https://github.com/hoangtien2k3/reactify-core/blob/examples-6.0-beta2/examples/core/boot/src/main/java/MultithreadedWorkerCollab.java"
                                                            target="_blank">See full example on GitHub</a></strong></p>
                                            </div>
                                        </article>
                                        <nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a
                                                class="pagination-nav__link pagination-nav__link--prev"
                                                href="/boot/servicegraph">
                                                <div class="pagination-nav__sublabel">Previous</div>
                                                <div class="pagination-nav__label">Service Graph</div>
                                            </a><a class="pagination-nav__link pagination-nav__link--next"
                                                href="/boot/config">
                                                <div class="pagination-nav__sublabel">Next</div>
                                                <div class="pagination-nav__label">Config</div>
                                            </a></nav>
                                    </div>
                                </div>
                                <div class="col col--3">
                                    <div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop">
                                        <ul class="table-of-contents table-of-contents__left-border">
                                            <li><a href="#overview"
                                                    class="table-of-contents__link toc-highlight">Overview</a></li>
                                            <li><a href="#activejs-threading-model"
                                                    class="table-of-contents__link toc-highlight">ActiveJ&#39;s
                                                    threading model</a></li>
                                            <li><a href="#worker-scope"
                                                    class="table-of-contents__link toc-highlight">Worker Scope</a>
                                                <ul>
                                                    <li><a href="#problem"
                                                            class="table-of-contents__link toc-highlight">Problem</a>
                                                    </li>
                                                    <li><a href="#solution"
                                                            class="table-of-contents__link toc-highlight">Solution</a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a href="#examples"
                                                    class="table-of-contents__link toc-highlight">Examples</a>
                                                <ul>
                                                    <li><a href="#basic-worker-pool-example"
                                                            class="table-of-contents__link toc-highlight">Basic Worker
                                                            Pool Example</a></li>
                                                    <li><a href="#multithreaded-worker-pools-collaboration"
                                                            class="table-of-contents__link toc-highlight">Multithreaded
                                                            Worker Pools Collaboration</a></li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
        <footer class="footer">
            <div class="container container-fluid">
                <div class="footer__bottom text--center">
                    <div class="footer__copyright">Copyright © 2025 Hoàng Anh Tiến</div>
                </div>
            </div>
        </footer>
    </div>
</body>

</html>