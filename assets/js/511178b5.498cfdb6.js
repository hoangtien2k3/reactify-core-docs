"use strict";(self.webpackChunkactivejdocs=self.webpackChunkactivejdocs||[]).push([[7685],{9866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>l});var i=n(5893),s=n(1151);const c={title:"ActiveJ 4.0 - Refactoring of exceptions",hide_table_of_contents:!1},a=void 0,r={permalink:"/blog/2021/02/16/v4.0",source:"@site/blog/2021-02-16-v4.0.md",title:"ActiveJ 4.0 - Refactoring of exceptions",description:"ActiveJ v4.0 was released Feb 16, 2021 (see on Maven).",date:"2021-02-16T00:00:00.000Z",formattedDate:"February 16, 2021",tags:[],readingTime:1.335,hasTruncateMarker:!1,authors:[],frontMatter:{title:"ActiveJ 4.0 - Refactoring of exceptions",hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"ActiveJ 4.1 - Optimization and simplification",permalink:"/blog/2021/03/19/v4.1"}},o={authorsImageUrls:[]},l=[];function d(e){const t={a:"a",code:"code",em:"em",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["ActiveJ v4.0 was released Feb 16, 2021 (",(0,i.jsx)(t.a,{href:"https://mvnrepository.com/artifact/io.activej/activej/4.0",children:"see on Maven"}),").\nThis release included major refactoring of exceptions. This release also introduces asynchronous high-performance\nActiveJ Redis client. Other components were optimized for the performance."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Exceptions refactoring"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"All public constant exceptions were removed/hidden."}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"StacklessException"})," was removed. Classes that extended ",(0,i.jsx)(t.strong,{children:"StacklessException"})," now extend regular ",(0,i.jsx)(t.strong,{children:"Exception"}),",\nsome of them are still ",(0,i.jsx)(t.em,{children:"stackless"}),". ",(0,i.jsx)(t.em,{children:"Stackless"})," exceptions provide the ability to include stack trace for debugging purposes.\nThis can be achieved by setting exception's ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/util-common/src/main/java/io/activej/common/ApplicationSettings.java",children:"ApplicationSetting"}),"\n",(0,i.jsx)(t.code,{children:"withStackTrace"})," to ",(0,i.jsx)(t.strong,{children:"true"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Renamed exceptions:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"ParseException"})," -> ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/util-common/src/main/java/io/activej/common/exception/MalformedDataException.java",children:"MalformedDataException"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"HttpException"})," -> ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/core-http/src/main/java/io/activej/http/HttpError.java",children:"HttpError"}),"\n(",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/core-http/src/main/java/io/activej/http/HttpException.java",children:"HttpException"}),"\nis now a parent class for other HTTP exceptions)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"OTTransformException"})," -> ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/extra/cloud-ot/src/main/java/io/activej/ot/exception/TransformException.java",children:"TransformException"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"OTNoCommitException"})," -> ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/extra/cloud-ot/src/main/java/io/activej/ot/exception/NoCommitException.java",children:"NoCommitException"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"Added new exceptions for top-level components, etc."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Introduced asynchronous lightweight high-performance ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/tree/v4.0/extra/cloud-redis",children:"ActiveJ Redis Client"}),"\nwith extendable API. ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/tree/v4.0/examples/cloud/redis",children:"Examples"})," and ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/tree/v4.0/benchmarks/redis",children:"benchmarks"}),"\nfor Redis client were added as well."]}),"\n",(0,i.jsx)(t.li,{children:"Optimizations in network code, HTTP processing (especially in pipelining mode), and data serialization."}),"\n",(0,i.jsxs)(t.li,{children:["Renamed ",(0,i.jsx)(t.strong,{children:"ByteBufQueue"})," -> ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/core-bytebuf/src/main/java/io/activej/bytebuf/ByteBufs.java",children:"ByteBufs"}),".\nAdded byte index to ",(0,i.jsx)(t.strong,{children:"ByteScanner"}),", refactored ",(0,i.jsx)(t.code,{children:"ByteBufs::scanBytes"}),".\nAdded ",(0,i.jsx)(t.code,{children:"ByteBufs::consumeBytes"})," method that works like ",(0,i.jsx)(t.code,{children:"ByteBufs::scanBytes"}),", but actually consumes scanned bytes/bufs."]}),"\n",(0,i.jsxs)(t.li,{children:["Removed ",(0,i.jsx)(t.strong,{children:"StreamMapper"}),", now stream mapping can be achieved via ",(0,i.jsx)(t.code,{children:"StreamFilter.mapper(Function<I, O>)"})]}),"\n",(0,i.jsxs)(t.li,{children:["Removed ",(0,i.jsx)(t.strong,{children:"Transducer"}),", ",(0,i.jsx)(t.strong,{children:"StreamTransducer"}),", ",(0,i.jsx)(t.strong,{children:"AbstractStreamReducer"}),", ",(0,i.jsx)(t.strong,{children:"StreamMerger"})," classes. Merging of streams can be\ndone via ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/core-datastream/src/main/java/io/activej/datastream/processor/StreamReducer.java",children:"StreamReducer"})]}),"\n",(0,i.jsxs)(t.li,{children:["Renamed ",(0,i.jsx)(t.strong,{children:"MergeSortReducer"})," -> ",(0,i.jsx)(t.strong,{children:"MergeReducer"}),", ",(0,i.jsx)(t.strong,{children:"MergeDistinctReducer"})," -> ",(0,i.jsx)(t.strong,{children:"DeduplicateReducer"})]}),"\n",(0,i.jsxs)(t.li,{children:["Added ability to obtain irrelevant chunks from ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/extra/cloud-lsmt-cube/src/main/java/io/activej/cube/Cube.java",children:"Cube"}),"\nby calling ",(0,i.jsx)(t.code,{children:"Cube::getIrrelevantChunks"}),". Irrelevant chunks can be cleaned up by calling ",(0,i.jsx)(t.code,{children:"CubeConsolidationController::cleanupIrrelevantChunks"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Added JUnit test rule ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/test/src/main/java/io/activej/test/rules/ClassBuilderConstantsRule.java",children:"ClassBuilderConstantsRule"}),"\nwhich validates that all of the ",(0,i.jsx)(t.a,{href:"https://github.com/activej/activej/blob/v4.0/core-codegen/src/main/java/io/activej/codegen/ClassBuilder.java",children:"ClassBuilder"}),"'s\nstatic constants are cleared after test passes."]}),"\n",(0,i.jsxs)(t.li,{children:["Renamed most classes/methods that contained ",(0,i.jsx)(t.em,{children:"parse"})," to contain ",(0,i.jsx)(t.em,{children:"decode"})," instead."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>a});var i=n(7294);const s={},c=i.createContext(s);function a(e){const t=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(c.Provider,{value:t},e.children)}}}]);